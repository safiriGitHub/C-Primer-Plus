# 第四章 字符串
## 字符串简介
> char类型数组  

- 字符串存储在char类型的数组中。组由连续的存储单元组成，每个单元存储一个字符。
- 数组末尾是字符\0。这是空字符，C语言用它标记字符串的结束。
- C中的字符串一定以空字符结束，意味着数组容量必须至少比字符串中的字符数多1

> 使用字符串  

- scanf() 在遇到第1个空白（空格、制表符或换行符）时就不再读取输入，故只会读取字符串中的一个单词。
- 其他输入函数 如 fgets() ,用于读取一般字符串。
- 字符串常量”x”和字符常量’x’不同。区别之一在于’x’是基本类型 （char），而”x”是派生类型（char数组）；区别之二是”x”实际上由两个字符 组成：’x’和空字符\0。

- sizeof 运算符，以字节为单位给出对象的大小。
- strlen()函数给出字符串中的字符长度。

## 预处理器

- define
`#define NAME value`

- const 限定符 ，限定一个变量为只读
`const int MONTHS = 12`

- 明示常量

limits.h 和 float.h 分别提供了与整数类型和浮点类型大小限制相关的详细信息。

limits.h中的一些明示常量：
![](%E7%AC%AC%E5%9B%9B%E7%AB%A0%20%E5%AD%97%E7%AC%A6%E4%B8%B2/DF911A03-FBAB-4E0E-A178-1AC91BEFF60B.png)


float.h中的一些明示常量：
把下表中的FLT改成DBL和LDBL，即可表示double和long double类型对应的明示常量

![](%E7%AC%AC%E5%9B%9B%E7%AB%A0%20%E5%AD%97%E7%AC%A6%E4%B8%B2/47418C46-5D5A-414C-B897-A32DDBEF1AD7.png)


## printf() 函数
printf()函数有一个返回值，返回打印字符的个数。如果有输出错误，返回一个负值

转换说明及其打印的输出结果

![](%E7%AC%AC%E5%9B%9B%E7%AB%A0%20%E5%AD%97%E7%AC%A6%E4%B8%B2/4CE48A1F-95B6-47B9-AAA2-70D4FD3981B9.png)

## 装换说明修饰符 了解
在%和转换字符之间插入修饰符可修饰基本的转换说明。
如果要插入多个字符，其书写顺序应该与下表中列出的顺序相同。

![](%E7%AC%AC%E5%9B%9B%E7%AB%A0%20%E5%AD%97%E7%AC%A6%E4%B8%B2/61E92953-5240-4212-94F7-FDB02E4AC7B8.png)

![](%E7%AC%AC%E5%9B%9B%E7%AB%A0%20%E5%AD%97%E7%AC%A6%E4%B8%B2/87B3D863-ADBD-4F72-BE07-41E313F88F00.png)


## 转换说明的意义

转换说明把以二进制格式储存在计算机中的值转换成一系列字符（字符串）以便于显示。转换说明是翻译说明的意思。
例如，数字76在计算机内部存储格式是二进制数01001100。%d转换成字符7和6，并显示为76；%x转换成十六进制4c；%c转换成字符L。

> 转换不匹配情况  

## scanf()函数



![](%E7%AC%AC%E5%9B%9B%E7%AB%A0%20%E5%AD%97%E7%AC%A6%E4%B8%B2/5915C10D-0673-492B-BEA2-748987EA9965.png)


![](%E7%AC%AC%E5%9B%9B%E7%AB%A0%20%E5%AD%97%E7%AC%A6%E4%B8%B2/26B9E40A-6D2E-4230-9918-BC10A3A513A2.png)

![](%E7%AC%AC%E5%9B%9B%E7%AB%A0%20%E5%AD%97%E7%AC%A6%E4%B8%B2/2D86C384-D101-47D6-9965-79A87789ED8E.png)

- 格式字符串中的普通字符 
scanf()函数允许把普通字符放在格式字符串中。除空格字符外的普通字 
符必须与输入字符串严格匹配。例如，假设在两个转换说明中添加一个逗 
号：
scanf(“%d,%d”, &n, &m); 
scanf()函数将其解释成：用户将输入一个数字、一个逗号，然后再输入一个数字。也就是说，用户必须像下面这样进行输入两个整数： 
88,121 

- scanf()函数返回成功读取的项数。
- 如果没有读取任何项，且需要读取一 个数字而用户却输入一个非数值字符串，scanf()便返回0。
当scanf()检测 到“文件结尾”时，会返回EOF（EOF是stdio.h中定义的特殊值，通常EOF定义为-1）。

## printf() 和 scanf() 的*修饰符
- printf() 
如果你不想预先指定字段宽度，希望通过程序来指定，那么可以用*修 
饰符代替字段宽度。
但还是要用一个参数告诉函数，字段宽度应该是多少。 
也就是说，如果转换说明是%*d，那么参数列表中应包含*和 d对应的值。

`printf(“The number is :%*d:\n”, width, number);`

`printf("Weight=%*.*f\n", width, precision, weight);`

- scanf()中*的用法与此不同。把*放在%和转换字符之间时，会使得 scanf()跳过相应的输出项。
在程序需要读取文件中特定列的内容时，这项跳过功能很有用。
