# 第七章 C控制语句：分支和跳转

## if语句
`100.0 * (float)cold_days / all_days` :
为避免整数除法，该程序示例把计算后的百分比强制转换为 float类 型。其实，也不必使用强制类型转换，因为在表达式100.0 * cold_days / all_days中，将首先对表达式100.0 * cold_days求值，由于C的自动转换类型 规则，乘积会被强制转换成浮点数。 ~但是，使用强制类型转换可以明确表达 转换类型的意图，保护程序免受不同版本编译器的影响。~


## if else 语句


### getchar() 和 putchar() 函数

`ch = getchar()`   与 `scanf("%c", &ch)`  效果相同

`putchar(ch)` 与 `printf("%c", ch)` 效果相同

因为只处理字符，比通用的scanf和printf函数更快、更简洁。这两个函数通常定义在stdio.h头文件中（它们通常是预处理宏，而不是真正的函数）。

### ctype.h系列的字符函数


![](%E7%AC%AC%E4%B8%83%E7%AB%A0%20C%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5%EF%BC%9A%E5%88%86%E6%94%AF%E5%92%8C%E8%B7%B3%E8%BD%AC/10F82679-D890-42AB-851B-9D538465E7E4.png)

## 逻辑运算符

`&& 、||、！` 

- 备选拼写：iso646.h头文件
C 是在美国用标准美式键盘开发的语言。但是在世界各地，并非所有的 
键盘都有和美式键盘一样的符号。因此，C99标准新增了可代替逻辑运算符 
的拼写，它们被定义在ios646.h头文件中。如果在程序中包含该头文件，便 
可用and代替&&、or代替||、not代替!
`and、or、not`

- 优先级

`!`运算符的优先级很高，比乘法运算符还高，与递增运算符的优先级相 
同，只比圆括号的优先级低。
`&&`运算符的优先级比`||`运算符高，但是两者的优先级都比关系运算符低，比赋值运算符高。
因此，表达式a >b && b > c || b > d相当于((a > b) && (b > c)) || (b > d)。 

- 求值顺序
C 通常不保证先对复杂表 达式中哪部分求值。例如，下面的语句，可能先对表达式5 + 3求值，也可 能先对表达式9 + 6求值： apples = (5 + 3) * (9 + 6);

但是，对于逻辑运算符是个例外，C保证逻辑表达式的求值顺序是 从左往右。
&&和||运算符都是序列点，所以程序在从一个运算对象执行到下 一个运算对象之前，所有的副作用都会生效。
而且，C 保证一旦发现某个元 素让整个表达式无效，便立即停止求值。

`while ((c = getchar()) != ‘ ‘ && c != ‘\n’)`
序列点特性：第二个子表达式的c值肯定会能获取得到

`if (number != 0 && 12/number == 2)`
短路特性：第一个子表达式为假，则立即停止，避免了把0作为除数

`while ( x++ < 10 && x + y < 20)`
序列点：保证了对第二个表达式求值之前，已经递增了x。

- 范围表示时要用&&

`if (range >= 90 && range <= 100)` ✅

`if (90 <= range <= 100) // 千万不要这样写！`❌
因为编译器将表达式解释为 （90<=range)<=100 ,子表达式90<=range的值要么是1，要么是0。都小于100，所以不管range的值是多少，整个表达式恒为真。

`if (ch >= ‘a’ && ch <= ‘z’)` ✅
或者用
`if (islower(ch))`✅


## 条件运算符 ?:
唯一的三元表达式

使用条件运算符的代码更简洁， ~而且编译器可以生成更紧凑的程序代码~ 。

## 循环辅助：continue和break
## switch和break
- 没有break语句，就会从匹配标签开始执行到switch末尾。
- case标签必须是整数类型的常量或整形常量表达式，不能用变量作为case标签。
- 多重标签
```
switch(ch) {
	case 'a':
	case 'A': a_ct++;
	break;
	case 'e':
	case 'E': e_ct++;
	break;
	default: break;
}
```

## goto语句
谨慎使用，或者根本不用

C可以接受一种goto的用法：出现问题时从一组嵌套循环中跳出：




